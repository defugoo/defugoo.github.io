<script>
  const keyUrl = "https://defugoo.github.io/neonhub/key.txt"; // update if needed
  const cooldownSeconds = 10;

  const getKeyBtn = document.getElementById("getKeyBtn");
  const keyDisplay = document.getElementById("keyDisplay");

  getKeyBtn.addEventListener("click", () => {
    getKeyBtn.disabled = true;
    getKeyBtn.textContent = "Waiting...";
    let seconds = cooldownSeconds;
    keyDisplay.textContent = `Wait ${seconds} seconds...`;

    const timer = setInterval(() => {
      seconds--;
      if (seconds > 0) {
        keyDisplay.textContent = `Wait ${seconds} seconds...`;
      } else {
        clearInterval(timer);
        fetch(keyUrl)
          .then(res => res.text())
          .then(key => {
            keyDisplay.textContent = key.trim();
            getKeyBtn.disabled = false;
            getKeyBtn.textContent = "Get Key";
          })
          .catch(() => {
            keyDisplay.textContent = "Error fetching key.";
            getKeyBtn.disabled = false;
            getKeyBtn.textContent = "Try Again";
          });
      }
    }, 1000);
  });
</script>
